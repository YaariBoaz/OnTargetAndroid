{"ast":null,"code":"/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nexport function resolvedSyncPromise(value) {\n  return new SyncPromise(function (resolve) {\n    resolve(value);\n  });\n}\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nexport function rejectedSyncPromise(reason) {\n  return new SyncPromise(function (_, reject) {\n    reject(reason);\n  });\n}\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nvar SyncPromise = /** @class */function () {\n  function SyncPromise(executor) {\n    var _this = this;\n    this._state = 0 /* PENDING */;\n    this._handlers = [];\n    /** JSDoc */\n    this._resolve = function (value) {\n      _this._setResult(1 /* RESOLVED */, value);\n    };\n    /** JSDoc */\n    this._reject = function (reason) {\n      _this._setResult(2 /* REJECTED */, reason);\n    };\n    /** JSDoc */\n    this._setResult = function (state, value) {\n      if (_this._state !== 0 /* PENDING */) {\n        return;\n      }\n      if (isThenable(value)) {\n        void value.then(_this._resolve, _this._reject);\n        return;\n      }\n      _this._state = state;\n      _this._value = value;\n      _this._executeHandlers();\n    };\n    /** JSDoc */\n    this._executeHandlers = function () {\n      if (_this._state === 0 /* PENDING */) {\n        return;\n      }\n      var cachedHandlers = _this._handlers.slice();\n      _this._handlers = [];\n      cachedHandlers.forEach(function (handler) {\n        if (handler[0]) {\n          return;\n        }\n        if (_this._state === 1 /* RESOLVED */) {\n          // eslint-disable-next-line @typescript-eslint/no-floating-promises\n          handler[1](_this._value);\n        }\n        if (_this._state === 2 /* REJECTED */) {\n          handler[2](_this._value);\n        }\n        handler[0] = true;\n      });\n    };\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n  /** JSDoc */\n  SyncPromise.prototype.then = function (onfulfilled, onrejected) {\n    var _this = this;\n    return new SyncPromise(function (resolve, reject) {\n      _this._handlers.push([false, function (result) {\n        if (!onfulfilled) {\n          // TODO: ¯\\_(ツ)_/¯\n          // TODO: FIXME\n          resolve(result);\n        } else {\n          try {\n            resolve(onfulfilled(result));\n          } catch (e) {\n            reject(e);\n          }\n        }\n      }, function (reason) {\n        if (!onrejected) {\n          reject(reason);\n        } else {\n          try {\n            resolve(onrejected(reason));\n          } catch (e) {\n            reject(e);\n          }\n        }\n      }]);\n      _this._executeHandlers();\n    });\n  };\n  /** JSDoc */\n  SyncPromise.prototype.catch = function (onrejected) {\n    return this.then(function (val) {\n      return val;\n    }, onrejected);\n  };\n  /** JSDoc */\n  SyncPromise.prototype.finally = function (onfinally) {\n    var _this = this;\n    return new SyncPromise(function (resolve, reject) {\n      var val;\n      var isRejected;\n      return _this.then(function (value) {\n        isRejected = false;\n        val = value;\n        if (onfinally) {\n          onfinally();\n        }\n      }, function (reason) {\n        isRejected = true;\n        val = reason;\n        if (onfinally) {\n          onfinally();\n        }\n      }).then(function () {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n        resolve(val);\n      });\n    });\n  };\n  return SyncPromise;\n}();\nexport { SyncPromise };","map":{"version":3,"names":["isThenable","resolvedSyncPromise","value","SyncPromise","resolve","rejectedSyncPromise","reason","_","reject","executor","_this","_state","_handlers","_resolve","_setResult","_reject","state","then","_value","_executeHandlers","cachedHandlers","slice","forEach","handler","e","prototype","onfulfilled","onrejected","push","result","catch","val","finally","onfinally","isRejected"],"sources":["/Applications/OnTarget/OnTarget/node_modules/@sentry/utils/esm/syncpromise.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nexport function resolvedSyncPromise(value) {\n    return new SyncPromise(function (resolve) {\n        resolve(value);\n    });\n}\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nexport function rejectedSyncPromise(reason) {\n    return new SyncPromise(function (_, reject) {\n        reject(reason);\n    });\n}\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nvar SyncPromise = /** @class */ (function () {\n    function SyncPromise(executor) {\n        var _this = this;\n        this._state = 0 /* PENDING */;\n        this._handlers = [];\n        /** JSDoc */\n        this._resolve = function (value) {\n            _this._setResult(1 /* RESOLVED */, value);\n        };\n        /** JSDoc */\n        this._reject = function (reason) {\n            _this._setResult(2 /* REJECTED */, reason);\n        };\n        /** JSDoc */\n        this._setResult = function (state, value) {\n            if (_this._state !== 0 /* PENDING */) {\n                return;\n            }\n            if (isThenable(value)) {\n                void value.then(_this._resolve, _this._reject);\n                return;\n            }\n            _this._state = state;\n            _this._value = value;\n            _this._executeHandlers();\n        };\n        /** JSDoc */\n        this._executeHandlers = function () {\n            if (_this._state === 0 /* PENDING */) {\n                return;\n            }\n            var cachedHandlers = _this._handlers.slice();\n            _this._handlers = [];\n            cachedHandlers.forEach(function (handler) {\n                if (handler[0]) {\n                    return;\n                }\n                if (_this._state === 1 /* RESOLVED */) {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    handler[1](_this._value);\n                }\n                if (_this._state === 2 /* REJECTED */) {\n                    handler[2](_this._value);\n                }\n                handler[0] = true;\n            });\n        };\n        try {\n            executor(this._resolve, this._reject);\n        }\n        catch (e) {\n            this._reject(e);\n        }\n    }\n    /** JSDoc */\n    SyncPromise.prototype.then = function (onfulfilled, onrejected) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            _this._handlers.push([\n                false,\n                function (result) {\n                    if (!onfulfilled) {\n                        // TODO: ¯\\_(ツ)_/¯\n                        // TODO: FIXME\n                        resolve(result);\n                    }\n                    else {\n                        try {\n                            resolve(onfulfilled(result));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    }\n                },\n                function (reason) {\n                    if (!onrejected) {\n                        reject(reason);\n                    }\n                    else {\n                        try {\n                            resolve(onrejected(reason));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    }\n                },\n            ]);\n            _this._executeHandlers();\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.catch = function (onrejected) {\n        return this.then(function (val) { return val; }, onrejected);\n    };\n    /** JSDoc */\n    SyncPromise.prototype.finally = function (onfinally) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            var val;\n            var isRejected;\n            return _this.then(function (value) {\n                isRejected = false;\n                val = value;\n                if (onfinally) {\n                    onfinally();\n                }\n            }, function (reason) {\n                isRejected = true;\n                val = reason;\n                if (onfinally) {\n                    onfinally();\n                }\n            }).then(function () {\n                if (isRejected) {\n                    reject(val);\n                    return;\n                }\n                resolve(val);\n            });\n        });\n    };\n    return SyncPromise;\n}());\nexport { SyncPromise };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}